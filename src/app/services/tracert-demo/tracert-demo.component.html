<div class="app-content-body fade-in-up">
    <div class="pad-def bg-default bor-b-def">
        <h2 class="no-margin">TracertService<small class="font-xs text-disabled pad-l-xs">service</small> </h2>
    </div>


    <div class="pad-def">
        <div class="mar-b-sm">
            <p class="alert alert-info">
                <span class="bold text-primary">TracertService</span>是可注入的服务，用于订阅路由变化和（使用新参数）生成新的路由记录。主要用于记录当前页面状态，使在跳转到新页面再返回时能够重现跳转前的页面。
            </p>
            <ul class="group">
                <p class="text-primary"> 通过两个方法用于实现这样的功能：</p>
                <li>
                    <p>
                        1.<span class="bold">subscribe</span><span class="text-disabled"> (searchParams: Object;action?: Function)</span>
                    </p>
                    <div class="fn-desc mar-b-sm">
                        调用此方法将订阅路由变化。当路由发生变化时，会将路由中“;”后的参数的值赋值给传入的searchParams对象的对应字段，然后立即执行action方法（如果传入action参数）。
                    </div>
                    <p>
                        2.<span class="bold">navigate</span><span class="text-disabled"></span>
                    </p>
                    <div class="fn-desc">
                        调用此方法时如果subscribe传入的searchParams参数有字段值发生改变，将生成新的路由记录(“;”后参数的改变)。
                    </div>
                </li>
            </ul>
            <div class="group">
                <p class="text-primary">原理</p>
                <p>1.subscribe订阅路由变化；</p>
                <p>2.当路由变化时，将“;”后参数的值取出并更新到searchParams对应的字段；</p>
                <p>3.使用navigate方法将searchParams里各字段的值拼接成路由“;”后的参数，并生成新的路由记录。</p>
                <p>4.页面返回时，返回的是最后一次调用navigate方法产生的路由记录，同时路由变化的事件触发（如2所述），此时就可以通过searchParams各个字段的值来初始化和控制页面的显示。</p>
            </div>
            <div class="group">
                <p class="text-primary">如何使用</p>
                <p>1.在需要记录的组件下注入单独的实例（TracertService实例在创建改组件时提供）；</p>
                <p>2.先调用subscribe方法，其中searchParams参数必须为一个对象；然后在需要记录页面状态的地方调用navigate方法；</p>
                <p>3.注意navigate会触发路由的变化，因此需要在适当的时机调用。</p>
            </div>
        </div>
    </div>
</div>。